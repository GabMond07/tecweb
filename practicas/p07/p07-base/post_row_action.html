<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet"
              href= "https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" 
              integrity= "sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
              crossorigin="anonymous" />
        <script>
            function show() {
                // se obtiene el id de la fila donde está el botón presinado
                var rowId = event.target.parentNode.parentNode.id;

                // se obtienen los datos de la fila en forma de arreglo
                var data = document.getElementById(rowId).querySelectorAll(".row-data");
                /**
                querySelectorAll() devuelve una lista de elementos (NodeList) que 
                coinciden con el grupo de selectores CSS indicados.
                (ver: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors)

                En este caso se obtienen todos los datos de la fila con el id encontrado
                y que pertenecen a la clase "row-data".
                */

                var nombre= data[0].innerText;
                var Des= data[1].innerText;
                var img = data[2].firstChild.getAttribute('src');

                alert("nombre: " + nombre + "\nDescripcion: " + Des + "\nImagen: " + img);
                
                send2form(nombre, Des, img);
            }

            
        </script>
    </head>
    <body>
        
        
        <table class="table">
            <tbody>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Descipcion</th>
                    <th scope="col">Img</th>
                    <th scope="col">Submit</th>
                </tr>

                <tr id="1">
                    <th scope="row">1</th>
                    <td class="row-data">Smartphone Galaxy S21</td>
                    <td class="row-data">Pantalla AMOLED de 6.2 pulgadas, 128 GB de almacenaminto</td>
                    <td class="row-data"><img src="img/S21.jpg" width="50" height="50"></td>
                    <td><input type="button" 
                               value="submit" 
                               onclick="show()" /></td>
                </tr>

                <tr id="2">
                    <th scope="row">2</th>
                    <td class="row-data">Laptop ThinkPad X1 Carbon</td>
                    <td class="row-data">Procesador Intel Core i7, 16 GB de RAM</td>
                    <td class="row-data"><img src="img/LapCarbon.jpg" width="50" height="50"></td>
                    <td><input type="button" 
                               value="submit" 
                               onclick="show()" /></td>
                </tr>
                <tr id="3">
                    <th scope="row">3</th>
                    <td class="row-data">Tablet iPad Pro</td>
                    <td class="row-data">Pantalla Liquid Retina de 11 pulgadas, 128 GB de almacenamiento</td>
                    <td class="row-data"><img src="img/TabletPro.jpg" width="50" height="50"></td>
                    <td><input type="button" 
                               value="submit" 
                               onclick="show()" /></td>
                </tr>
                <tr id="4">
                    <th scope="row">4</th>
                    <td class="row-data">TCamara Mirrorless EOS R5</td>
                    <td class="row-data">Sensor CMOS de 45 MP, grabacion de video 8K</td>
                    <td class="row-data"><img src="img/CamaraEOS.jpg" width="50" height="50"></td>
                    <td><input type="button" 
                               value="submit" 
                               onclick="show()" /></td>
                </tr>
                <tr id="5">
                    <th scope="row">5</th>
                    <td class="row-data">Auriculares Bluetooth WH-1000XM4</td>
                    <td class="row-data">Cancelacion de ruido, hasta 30 horas de duracion de la bateria</td>
                    <td class="row-data"><img src="img/AuricularesWH.jpg" width="50" height="50"></td>
                    <td><input type="button" 
                               value="submit" 
                               onclick="show()" /></td>
                </tr>
                <tr id="6">
                    <th scope="row">6</th>
                    <td class="row-data">Smartwatch Galaxy Watch 4</td>
                    <td class="row-data">Pantalla AMOLED de 1.4 pulgadas, seguimiento de actividad</td>
                    <td class="row-data"><img src="img/Samartwatch.jpg" width="50" height="50"></td>
                    <td><input type="button" 
                               value="submit" 
                               onclick="show()" /></td>
                </tr>
                <tr id="7">
                    <th scope="row">7</th>
                    <td class="row-data">Impresora LaserJet Pro M404n</td>
                    <td class="row-data">Impresion en blanco y negro de alta velocidad</td>
                    <td class="row-data"><img src="img/Impresora.jpg" width="50" height="50"></td>
                    <td><input type="button" 
                               value="submit" 
                               onclick="show()" /></td>
                </tr>
                <tr id="8">
                    <th scope="row">8</th>
                    <td class="row-data">Router WiFi Mesh Deco X20</td>
                    <td class="row-data">Cobertura WiFi en toda la casa, hasta 2000 Mbps</td>
                    <td class="row-data"><img src="img/Router.jpg" width="50" height="50"></td>
                    <td><input type="button" 
                               value="submit" 
                               onclick="show()" /></td>
                </tr>
                <tr id="9">
                    <th scope="row">9</th>
                    <td class="row-data">Monitor Ultrawide 34WN80C-B</td>
                    <td class="row-data">Pantalla IPS de 34 pulgadas, resolucion 3440x1440</td>
                    <td class="row-data"><img src="img/LGMonitor.jpg" width="50" height="50"></td>
                    <td><input type="button" 
                               value="submit" 
                               onclick="show()" /></td>
                </tr>
                <tr id="10">
                    <th scope="row">10</th>
                    <td class="row-data">Teclado Mecanico BlackWidow Elite</td>
                    <td class="row-data">Teclas mecanicas Razer Green, retroiluminacion personalizable</td>
                    <td class="row-data"><img src="img/Teclado.jpg" width="50" height="50"></td>
                    <td><input type="button" 
                               value="submit" 
                               onclick="show()" /></td>
                </tr>
            </tbody>
        </table>
        <script>
        function send2form(nombre, Des, img) {
            var form = document.createElement("form");

            var nombreIn = document.createElement("input");
            nombreIn.type = 'text';
            nombreIn.name = 'nombre';
            nombreIn.value = nombre;
            form.appendChild(nombreIn);

            var desIn = document.createElement("input");
            desIn.type = 'text';
            desIn.name = 'des';
            desIn.value = Des;
            form.appendChild(desIn);

            var imgIn = document.createElement("input");
            imgIn.type = 'text';
            imgIn.name = 'imagen';
            imgIn.value = img;
            form.appendChild(imgIn);

            form.method = 'POST';
            form.action = 'http://localhost/tecweb_copia/practicas/p07/p07-base/formulario.php';

            document.body.appendChild(form);
            form.submit();
        }
    </script>
    </body>
</html>